/**********************************************************
 *            AUTOGENERATED FILE                          *
 *             DO NOT MODIFY IT                           *
 *                                                        *
 * To add new commands :                                  *
 *  - Modify ../Xml/commands.xml file                     *
 *  - Re-run generateFeatureControllers.py script         *
 *                                                        *
 **********************************************************/

/**
* @file ARCONTROLLER_JNI_FeatureGeneric
* @brief ARCONTROLLER_FEATURE_Generic_t JNI feature generic c file.
*/

/*****************************************
 *
 *             include file :
 *
 *****************************************/

#include <jni.h>
#include <stdlib.h>

#include <libARSAL/ARSAL_Print.h>

#include <libARController/ARCONTROLLER_Error.h>
#include <libARController/ARCONTROLLER_Feature.h>

/*****************************************
 *
 *             define :
 *
 *****************************************/

#define ARCONTROLLER_JNIFEATUREGENERIC_TAG "ARCONTROLLER_JNI_FeatureGeneric"

/*****************************************
 *
 *             private header:
 *
 *****************************************/


/*****************************************
 *
 *             implementation :
 *
 *****************************************/

JNIEXPORT jstring JNICALL
Java_com_parrot_arsdk_arcontroller_ARFeatureGeneric_nativeStaticGetKeyGenericDroneSettingsChangedSettings (JNIEnv *env , jclass class)
{
    return (*env)->NewStringUTF(env, ARCONTROLLER_DICTIONARY_KEY_GENERIC_DRONESETTINGSCHANGED_SETTINGS);
}

JNIEXPORT jint JNICALL
Java_com_parrot_arsdk_arcontroller_ARFeatureGeneric_nativeSendDefault (JNIEnv *env, jobject thizz, jlong jFeature)
{
    // local declarations
    ARCONTROLLER_FEATURE_Generic_t *nativeFeature = (ARCONTROLLER_FEATURE_Generic_t*) (intptr_t) jFeature;
    eARCONTROLLER_ERROR error = ARCONTROLLER_OK;
    
    error = nativeFeature->sendDefault (nativeFeature);

    return error;
}

JNIEXPORT jint JNICALL
Java_com_parrot_arsdk_arcontroller_ARFeatureGeneric_nativeSendSetDroneSettings (JNIEnv *env, jobject thizz, jlong jFeature, jint ardrone3MaxAltitudeIsSet, jfloat ardrone3MaxAltitudecurrent, jint ardrone3MaxTiltIsSet, jfloat ardrone3MaxTiltcurrent, jint ardrone3MaxDistanceIsSet, jfloat ardrone3MaxDistancevalue, jint ardrone3NoFlyOverMaxDistanceIsSet, jbyte ardrone3NoFlyOverMaxDistanceshouldNotFlyOver, jint ardrone3MaxVerticalSpeedIsSet, jfloat ardrone3MaxVerticalSpeedcurrent, jint ardrone3MaxRotationSpeedIsSet, jfloat ardrone3MaxRotationSpeedcurrent, jint ardrone3MaxPitchRollRotationSpeedIsSet, jfloat ardrone3MaxPitchRollRotationSpeedcurrent, jint ardrone3ReturnHomeDelayIsSet, jshort ardrone3ReturnHomeDelaydelay, jint ardrone3HomeTypeIsSet, jint ardrone3HomeTypetype, jint ardrone3VideoStabilizationModeIsSet, jint ardrone3VideoStabilizationModemode, jint ardrone3BankedTurnIsSet, jbyte ardrone3BankedTurnvalue)
{
    // local declarations
    ARCONTROLLER_FEATURE_Generic_t *nativeFeature = (ARCONTROLLER_FEATURE_Generic_t*) (intptr_t) jFeature;
    eARCONTROLLER_ERROR error = ARCONTROLLER_OK;
    ARCOMMANDS_Generic_DroneSettings_t c_settings = {
        .MaxAltitude.isSet = ardrone3MaxAltitudeIsSet,
        .MaxAltitude.current = ardrone3MaxAltitudecurrent,
        .MaxTilt.isSet = ardrone3MaxTiltIsSet,
        .MaxTilt.current = ardrone3MaxTiltcurrent,
        .MaxDistance.isSet = ardrone3MaxDistanceIsSet,
        .MaxDistance.value = ardrone3MaxDistancevalue,
        .NoFlyOverMaxDistance.isSet = ardrone3NoFlyOverMaxDistanceIsSet,
        .NoFlyOverMaxDistance.shouldNotFlyOver = ardrone3NoFlyOverMaxDistanceshouldNotFlyOver,
        .MaxVerticalSpeed.isSet = ardrone3MaxVerticalSpeedIsSet,
        .MaxVerticalSpeed.current = ardrone3MaxVerticalSpeedcurrent,
        .MaxRotationSpeed.isSet = ardrone3MaxRotationSpeedIsSet,
        .MaxRotationSpeed.current = ardrone3MaxRotationSpeedcurrent,
        .MaxPitchRollRotationSpeed.isSet = ardrone3MaxPitchRollRotationSpeedIsSet,
        .MaxPitchRollRotationSpeed.current = ardrone3MaxPitchRollRotationSpeedcurrent,
        .ReturnHomeDelay.isSet = ardrone3ReturnHomeDelayIsSet,
        .ReturnHomeDelay.delay = ardrone3ReturnHomeDelaydelay,
        .HomeType.isSet = ardrone3HomeTypeIsSet,
        .HomeType.type = ardrone3HomeTypetype,
        .VideoStabilizationMode.isSet = ardrone3VideoStabilizationModeIsSet,
        .VideoStabilizationMode.mode = ardrone3VideoStabilizationModemode,
        .BankedTurn.isSet = ardrone3BankedTurnIsSet,
        .BankedTurn.value = ardrone3BankedTurnvalue,
};
    
    error = nativeFeature->sendSetDroneSettings (nativeFeature, &c_settings);

    return error;
}

